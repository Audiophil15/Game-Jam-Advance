[gd_scene load_steps=16 format=2]

[ext_resource path="res://Scenes/Maps/Map Central.gd" type="Script" id=1]
[ext_resource path="res://Visuals/Map/Reversal_Mountain_Summer_B2W2.png" type="Texture" id=2]
[ext_resource path="res://Scenes/Objects/Tree.tscn" type="PackedScene" id=3]
[ext_resource path="res://Audio/Ambiances/Zone 1_v2_d√©but.wav" type="AudioStream" id=4]
[ext_resource path="res://Scenes/Objects/Pushable Rock.tscn" type="PackedScene" id=5]
[ext_resource path="res://Scenes/Audio/Music.tscn" type="PackedScene" id=6]
[ext_resource path="res://Scenes/Terrains/Ground.tscn" type="PackedScene" id=7]
[ext_resource path="res://Visuals/Map/Crenel Tile Map.png" type="Texture" id=8]
[ext_resource path="res://Scenes/Terrains/Water.tscn" type="PackedScene" id=9]

[sub_resource type="ConvexPolygonShape2D" id=1]
points = PoolVector2Array( 16, 16, 0, 16, 0, 0, 16, 0 )

[sub_resource type="ConvexPolygonShape2D" id=2]
points = PoolVector2Array( 16, 32, 0, 32, 0, 0, 16, 0 )

[sub_resource type="ConvexPolygonShape2D" id=3]
points = PoolVector2Array( 16, 32, 0, 32, 0, 0, 16, 0 )

[sub_resource type="ConvexPolygonShape2D" id=4]
points = PoolVector2Array( 16, 32, 0, 32, 0, 0, 16, 0 )

[sub_resource type="TileSet" id=5]
0/name = "Crenel Tile Map.png 0"
0/texture = ExtResource( 8 )
0/tex_offset = Vector2( 0, 0 )
0/modulate = Color( 1, 1, 1, 1 )
0/region = Rect2( 32, 144, 16, 16 )
0/tile_mode = 0
0/occluder_offset = Vector2( 0, 0 )
0/navigation_offset = Vector2( 0, 0 )
0/shape_offset = Vector2( 0, 0 )
0/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
0/shape = SubResource( 1 )
0/shape_one_way = false
0/shape_one_way_margin = 1.0
0/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 1 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
0/z_index = 0
1/name = "Crenel Tile Map.png 1"
1/texture = ExtResource( 8 )
1/tex_offset = Vector2( 0, 0 )
1/modulate = Color( 1, 1, 1, 1 )
1/region = Rect2( 208, 48, 16, 32 )
1/tile_mode = 0
1/occluder_offset = Vector2( 0, 0 )
1/navigation_offset = Vector2( 0, 0 )
1/shape_offset = Vector2( 0, 0 )
1/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
1/shape = SubResource( 2 )
1/shape_one_way = false
1/shape_one_way_margin = 1.0
1/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 2 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
1/z_index = 0
2/name = "Crenel Tile Map.png 2"
2/texture = ExtResource( 8 )
2/tex_offset = Vector2( 0, 0 )
2/modulate = Color( 1, 1, 1, 1 )
2/region = Rect2( 160, 112, 16, 32 )
2/tile_mode = 0
2/occluder_offset = Vector2( 0, 0 )
2/navigation_offset = Vector2( 0, 0 )
2/shape_offset = Vector2( 0, 0 )
2/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
2/shape = SubResource( 3 )
2/shape_one_way = false
2/shape_one_way_margin = 1.0
2/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 3 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
2/z_index = 0
3/name = "Crenel Tile Map.png 3"
3/texture = ExtResource( 8 )
3/tex_offset = Vector2( 0, 0 )
3/modulate = Color( 1, 1, 1, 1 )
3/region = Rect2( 176, 112, 16, 32 )
3/tile_mode = 0
3/occluder_offset = Vector2( 0, 0 )
3/navigation_offset = Vector2( 0, 0 )
3/shape_offset = Vector2( 0, 0 )
3/shape_transform = Transform2D( 1, 0, 0, 1, 0, 0 )
3/shape = SubResource( 4 )
3/shape_one_way = false
3/shape_one_way_margin = 1.0
3/shapes = [ {
"autotile_coord": Vector2( 0, 0 ),
"one_way": false,
"one_way_margin": 1.0,
"shape": SubResource( 4 ),
"shape_transform": Transform2D( 1, 0, 0, 1, 0, 0 )
} ]
3/z_index = 0

[sub_resource type="GDScript" id=6]
script/source = "extends AudioStreamPlayer

var minVol = -40

func _ready():
	self.play()
	fadein(self)

func fadein(audioNode, from = minVol, to = 0) :
	var fadein = $Tween
	fadein.interpolate_property(audioNode, \"volume_db\", from, to, 0.4)
	fadein.start()

func fadeout(audioNode):
	var fadeout = $Tween
	fadeout.interpolate_property(audioNode, \"volume_db\", audioNode.volume_db, minVol, 2, Tween.TRANS_LINEAR, Tween.EASE_OUT)
	fadeout.start()
"

[node name="Map" type="Node2D"]
script = ExtResource( 1 )

[node name="TextureRect" type="TextureRect" parent="."]
anchor_right = 1.0
anchor_bottom = 1.0
margin_right = 2542.0
margin_bottom = 1517.0
texture = ExtResource( 2 )
stretch_mode = 2

[node name="Ground" parent="." instance=ExtResource( 7 )]
tile_data = PoolIntArray( 1310722, 2, 0, 1310724, 2, 0, 1310726, 0, 0, 1310727, 0, 0, 1310728, 0, 0, 1310729, 0, 0, 1310730, 0, 0, 1310731, -1610612736, 0, 1310732, -1610612736, 0, 1310733, -1610612736, 0, 1310734, -1610612736, 0, 1310735, -1610612736, 0, 1376262, 0, 0, 1376263, 0, 0, 1376264, 2, 0, 1376266, 0, 0, 1376267, -1610612736, 0, 1376268, -1610612736, 0, 1376269, -1610612736, 0, 1376270, -1610612736, 0, 1376271, -1610612736, 0, 1441794, 2, 0, 1441796, 2, 0, 1441797, 0, 0, 1441798, 0, 0, 1441799, 0, 0, 1441802, 0, 0, 1441803, -1610612736, 0, 1441804, -1610612736, 0, 1441805, -1610612736, 0, 1441806, -1610612736, 0, 1441807, -1610612736, 0, 1507331, 0, 0, 1507332, 0, 0, 1507333, 0, 0, 1507334, 0, 0, 1507335, 0, 0, 1507336, 0, 0, 1507337, 0, 0, 1507338, 0, 0, 1572866, 2, 0, 1572867, 0, 0, 1572868, 2, 0, 1572870, 0, 0, 1572871, 0, 0, 1572872, 0, 0, 1572873, 0, 0, 1572874, 0, 0, 1638402, 0, 0, 1638403, 0, 0, 1638406, 0, 0, 1638407, 0, 0, 1638408, 0, 0, 1638409, 0, 0, 1638410, 0, 0, 1703938, 0, 0, 1703939, 1, 0, 1703940, 2, 0, 1703942, 0, 0, 1703943, 0, 0, 1703944, 0, 0, 1703945, 0, 0, 1769474, 0, 0, 1769478, 1, 0, 1835010, 0, 0, 1835011, 0, 0, 1835012, 0, 0, 1835013, 0, 0, 1900546, 0, 0, 1900547, 0, 0, 1900548, 0, 0, 1900549, 0, 0 )

[node name="Water" parent="." instance=ExtResource( 9 )]

[node name="Dashable" type="TileMap" parent="."]
rotation = -1.5708
tile_set = SubResource( 5 )
cell_size = Vector2( 16, 16 )
show_collision = true
collision_layer = 2
collision_mask = 0
format = 1
tile_data = PoolIntArray( 2621427, -1610612734, 0, 2621428, -1610612734, 0, 2621430, -1610612734, 0, 2686963, -1610612736, 0, 2686964, -1610612736, 0, 2686965, -1610612736, 0, 2686966, -1610612735, 0, 2752499, -1610612733, 0, 2752500, -1610612733, 0, 2752502, -1610612733, 0 )

[node name="Tree" parent="." instance=ExtResource( 3 )]
position = Vector2( 563, 151 )

[node name="Tree2" parent="." instance=ExtResource( 3 )]
position = Vector2( 143, 229 )

[node name="StaticBody2D" type="StaticBody2D" parent="."]
position = Vector2( 2, 0 )

[node name="CollisionShape2D" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2( 452, 313 )
polygon = PoolVector2Array( -220, -51, -220, -1, -147, -2, -144, 12, -77, 13, -76, -21, -94, -26, -95, -68, -131, -70, -134, -85, -177, -84, -184, -59 )

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="StaticBody2D"]
position = Vector2( 452, 313 )
polygon = PoolVector2Array( -128, -215, -130, -189, -111.148, -190.67, -51, -196, -36, -193, -38, -62, -18, -58, -19, 56, 112, 60, 148, 13, 16, 13, 20, -20, 73, -21, 69, -61, 55, -65, 54, -231 )

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PoolVector2Array( 361, 189, 396, 168, 398, 195, 232, 196, 231, 106, 284, 123, 282, 158, 266, 160, 267, 188 )

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PoolVector2Array( 359, 174, 396, 152, 396, 118, 324, 124, 324, 159, 360, 159 )

[node name="CollisionPolygon2D4" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PoolVector2Array( 283, 122, 282, 49, 567, 48, 566, 290, 583, 291, 602, 292, 604, 24, 228, 23, 229, 105 )

[node name="CollisionPolygon2D5" type="CollisionPolygon2D" parent="StaticBody2D"]
polygon = PoolVector2Array( 724, 425, 780, 340, 780, 323, 761, 314, 751, 325, 745, 335, 696, 410, 689, 419, 672, 418, 696, 362, 761, 293, 809, 324, 739, 428, 698, 458, 676, 459, 673, 446, 709, 432 )

[node name="Pushable Rock" parent="." instance=ExtResource( 5 )]
position = Vector2( 123, 300 )
collision_layer = 1
collision_mask = 1

[node name="Audio" parent="." instance=ExtResource( 6 )]
stream = ExtResource( 4 )
script = SubResource( 6 )
